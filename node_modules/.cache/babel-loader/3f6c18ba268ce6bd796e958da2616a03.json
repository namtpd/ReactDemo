{"ast":null,"code":"var _jsxFileName = \"C:\\\\Nam\\\\waaworkspace\\\\WAA\\\\MakeupExamFrontEnd\\\\src\\\\lab12\\\\Contacts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Contacts = () => {\n  _s();\n\n  const cleancontact = {\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\"\n  };\n  const [contact, setContact] = useState(cleancontact);\n  const [contactlist, setContactlist] = useState([]);\n\n  const handleSubmit = e => {\n    //prevent POST request\n    e.preventDefault();\n    console.log(\"handleSubmit\");\n\n    if (contact) {\n      console.log(\"call the server\");\n      addContact(contact);\n    } //clear user\n\n\n    setContact(cleancontact);\n    console.log(\"load contacts\");\n    loadContacts();\n    console.log(\"load contacts done\");\n  };\n\n  const loadContacts = () => {\n    const contacts = axios.get(\"http://localhost:8080/contacts\").then(response => {\n      console.log(response.data.contacts);\n      setContactlist(response.data.contacts);\n    });\n  };\n\n  const addContact = contact => {\n    axios.post(\"http://localhost:8080/contacts\", contact).then(response => {\n      console.log(\"added contact \" + response.data.firstname);\n      loadContacts();\n    }); //add user to the list\n  };\n\n  const handleFieldChange = e => {\n    setContact({ ...contact,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const removeContact = e => {\n    let url = \"http://localhost:8080/contacts/\" + e.target.value;\n    console.log(\"removing contact with url=\" + url);\n    axios.delete(url).then(response => {\n      console.log(\"removed contact \" + response.headers);\n      loadContacts();\n    }); //remove user from the list   \n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Contacts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Last name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 34\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 52\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 66\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: contactlist.map(contact => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: contact.firstName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: contact.lastName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: contact.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: contact.phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: removeContact,\n              value: contact.firstName,\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, contact.firstName, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: loadContacts,\n      children: \"Load contacts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add a new Contact\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Firstname\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"First name\",\n          name: \"firstName\",\n          value: contact.firstName,\n          onChange: handleFieldChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Lastname\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Last name\",\n          name: \"lastName\",\n          value: contact.lastName,\n          onChange: handleFieldChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Email\",\n          name: \"email\",\n          value: contact.email,\n          onChange: handleFieldChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Phone\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Phone\",\n          name: \"phone\",\n          value: contact.phone,\n          onChange: handleFieldChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Contacts, \"AjTBF+CoxeGDWp79jLIHcfoE3gM=\");\n\n_c = Contacts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Contacts\");","map":{"version":3,"sources":["C:/Nam/waaworkspace/WAA/MakeupExamFrontEnd/src/lab12/Contacts.js"],"names":["React","useState","axios","Contacts","cleancontact","firstName","lastName","email","phone","contact","setContact","contactlist","setContactlist","handleSubmit","e","preventDefault","console","log","addContact","loadContacts","contacts","get","then","response","data","post","firstname","handleFieldChange","target","name","value","removeContact","url","delete","headers","map"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport const Contacts = () => {\r\n  const cleancontact = { firstName: \"\", lastName: \"\", email: \"\", phone: \"\" };\r\n  const [contact, setContact] = useState(cleancontact);\r\n  const [contactlist, setContactlist] = useState([]);\r\n\r\n  const handleSubmit = (e) => {\r\n    //prevent POST request\r\n    e.preventDefault();\r\n    console.log(\"handleSubmit\");\r\n    if (contact) {\r\n      console.log(\"call the server\");\r\n      addContact(contact);\r\n    }\r\n    //clear user\r\n    setContact(cleancontact);\r\n    console.log(\"load contacts\");\r\n    loadContacts();\r\n    console.log(\"load contacts done\");\r\n  }\r\n\r\n  const loadContacts = () => {\r\n    const contacts = axios.get(\"http://localhost:8080/contacts\")\r\n      .then((response) => {\r\n        console.log(response.data.contacts);\r\n        setContactlist(response.data.contacts);\r\n      });\r\n  }\r\n\r\n  const addContact = (contact) => {\r\n    axios.post(\"http://localhost:8080/contacts\", contact)\r\n        .then((response) => {\r\n          console.log(\"added contact \"+response.data.firstname);\r\n          loadContacts();\r\n        }); //add user to the list\r\n  }\r\n  const handleFieldChange = (e) => {\r\n    setContact({ ...contact, [e.target.name]: e.target.value });\r\n  }\r\n\r\n  const removeContact = (e) => {\r\n    let url = \"http://localhost:8080/contacts/\"+e.target.value;\r\n    console.log(\"removing contact with url=\"+url);\r\n    axios.delete(url)\r\n        .then((response) => {\r\n          console.log(\"removed contact \"+response.headers);\r\n          loadContacts();\r\n        }); //remove user from the list   \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Contacts</h1>\r\n\r\n      <table>\r\n        <thead>\r\n          <tr><th>First name</th><th>Last name</th><th>Email</th><th>Phone</th></tr>\r\n        </thead>\r\n        <tbody>\r\n          {contactlist.map(contact => (\r\n            <tr key={contact.firstName}>\r\n              <td>{contact.firstName}</td>\r\n              <td>{contact.lastName}</td>\r\n              <td>{contact.email}</td>\r\n              <td>{contact.phone}</td>\r\n              <td><button onClick={removeContact} value={contact.firstName} >Remove</button></td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <button onClick={loadContacts}>Load contacts</button>\r\n      <h2>Add a new Contact</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          Firstname\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"First name\"\r\n            name=\"firstName\"\r\n            value={contact.firstName}\r\n            onChange={handleFieldChange} />\r\n        </div>\r\n        <div>\r\n          Lastname\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Last name\"\r\n            name=\"lastName\"\r\n            value={contact.lastName}\r\n            onChange={handleFieldChange} />\r\n        </div>\r\n        <div>\r\n          Email\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            value={contact.email}\r\n            onChange={handleFieldChange} />\r\n        </div>\r\n        <div>\r\n          Phone\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Phone\"\r\n            name=\"phone\"\r\n            value={contact.phone}\r\n            onChange={handleFieldChange} />\r\n        </div>\r\n        <button type=\"submit\">Add Contact</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}